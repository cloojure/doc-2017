<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>tupelo.sql documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Tupelo 0.1.60 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tupelo</span></div></div></li><li class="depth-2 branch"><a href="tupelo.base64.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>base64</span></div></a></li><li class="depth-2 branch"><a href="tupelo.base64url.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>base64url</span></div></a></li><li class="depth-2 branch"><a href="tupelo.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="tupelo.csv.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>csv</span></div></a></li><li class="depth-2 branch"><a href="tupelo.misc.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>misc</span></div></a></li><li class="depth-2 branch"><a href="tupelo.parse.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>parse</span></div></a></li><li class="depth-2 branch"><a href="tupelo.schema.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></a></li><li class="depth-2 branch current"><a href="tupelo.sql.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sql</span></div></a></li><li class="depth-2 branch"><a href="tupelo.types.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>types</span></div></a></li><li class="depth-2"><a href="tupelo.y64.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>y64</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="tupelo.sql.html#var--main"><div class="inner"><span>-main</span></div></a></li><li class="depth-1"><a href="tupelo.sql.html#var-ColSpec"><div class="inner"><span>ColSpec</span></div></a></li><li class="depth-1"><a href="tupelo.sql.html#var-create-table"><div class="inner"><span>create-table</span></div></a></li><li class="depth-1"><a href="tupelo.sql.html#var-db-.3Ekw"><div class="inner"><span>db-&gt;kw</span></div></a></li><li class="depth-1"><a href="tupelo.sql.html#var-drop-table"><div class="inner"><span>drop-table</span></div></a></li><li class="depth-1"><a href="tupelo.sql.html#var-drop-table-if-exists"><div class="inner"><span>drop-table-if-exists</span></div></a></li><li class="depth-1"><a href="tupelo.sql.html#var-join"><div class="inner"><span>join</span></div></a></li><li class="depth-1"><a href="tupelo.sql.html#var-kw-.3Edb"><div class="inner"><span>kw-&gt;db</span></div></a></li><li class="depth-1"><a href="tupelo.sql.html#var-not-null"><div class="inner"><span>not-null</span></div></a></li><li class="depth-1"><a href="tupelo.sql.html#var-on"><div class="inner"><span>on</span></div></a></li><li class="depth-1"><a href="tupelo.sql.html#var-out"><div class="inner"><span>out</span></div></a></li><li class="depth-1"><a href="tupelo.sql.html#var-select"><div class="inner"><span>select</span></div></a></li><li class="depth-1"><a href="tupelo.sql.html#var-using"><div class="inner"><span>using</span></div></a></li><li class="depth-1"><a href="tupelo.sql.html#var-version"><div class="inner"><span>version</span></div></a></li><li class="depth-1"><a href="tupelo.sql.html#var-where"><div class="inner"><span>where</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">tupelo.sql</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var--main"><h3>-main</h3><div class="usage"><code>(-main)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/cloojure/tupelo/blob/master/src/tupelo/sql.clj#L203">view source</a></div></div><div class="public anchor" id="var-ColSpec"><h3>ColSpec</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/cloojure/tupelo/blob/master/src/tupelo/sql.clj#L53">view source</a></div></div><div class="public anchor" id="var-create-table"><h3>create-table</h3><div class="usage"><code>(create-table name colspecs)</code></div><div class="doc"><pre class="plaintext">Inputs: [name :- s/Keyword colspecs :- ColSpec]
Returns: s/Str</pre></div><div class="src-link"><a href="http://github.com/cloojure/tupelo/blob/master/src/tupelo/sql.clj#L54">view source</a></div></div><div class="public anchor" id="var-db-.3Ekw"><h3>db-&gt;kw</h3><div class="usage"><code>(db-&gt;kw arg)</code></div><div class="doc"><pre class="plaintext">Inputs: [arg :- s/Str]
Returns: s/Keyword

Converts a database compatible string to a keyword (e.g. all underscores converted to hyphens,
 and all characters lowercase), </pre></div><div class="src-link"><a href="http://github.com/cloojure/tupelo/blob/master/src/tupelo/sql.clj#L32">view source</a></div></div><div class="public anchor" id="var-drop-table"><h3>drop-table</h3><div class="usage"><code>(drop-table name)</code></div><div class="doc"><pre class="plaintext">Inputs: [name :- s/Keyword]
Returns: s/Str

Drop (delete) a table from the database. It is an error if the table does not exist.</pre></div><div class="src-link"><a href="http://github.com/cloojure/tupelo/blob/master/src/tupelo/sql.clj#L38">view source</a></div></div><div class="public anchor" id="var-drop-table-if-exists"><h3>drop-table-if-exists</h3><div class="usage"><code>(drop-table-if-exists name)</code></div><div class="doc"><pre class="plaintext">Inputs: [name :- s/Keyword]
Returns: s/Str

Drop (delete) a table from the database, w/o error if no table exists.</pre></div><div class="src-link"><a href="http://github.com/cloojure/tupelo/blob/master/src/tupelo/sql.clj#L43">view source</a></div></div><div class="public anchor" id="var-join"><h3>join</h3><div class="usage"><code>(join exp-map)</code></div><div class="doc"><pre class="plaintext">Inputs: [exp-map :- ts/KeyMap]
Returns: s/Str

Performs a join between two sub-expressions.</pre></div><div class="src-link"><a href="http://github.com/cloojure/tupelo/blob/master/src/tupelo/sql.clj#L137">view source</a></div></div><div class="public anchor" id="var-kw-.3Edb"><h3>kw-&gt;db</h3><div class="usage"><code>(kw-&gt;db kw)</code></div><div class="doc"><pre class="plaintext">Inputs: [kw :- s/Any]
Returns: s/Str

Converts a keyword to a database compatible string (e.g. all hyphens converted to underscores)</pre></div><div class="src-link"><a href="http://github.com/cloojure/tupelo/blob/master/src/tupelo/sql.clj#L27">view source</a></div></div><div class="public anchor" id="var-not-null"><h3>not-null</h3><div class="usage"><code>(not-null arg)</code></div><div class="doc"><pre class="plaintext">Inputs: [arg]
Returns: s/Str

Adds the suffix &apos;not null&apos; to argument.</pre></div><div class="src-link"><a href="http://github.com/cloojure/tupelo/blob/master/src/tupelo/sql.clj#L48">view source</a></div></div><div class="public anchor" id="var-on"><h3>on</h3><div class="usage"><code>(on arg)</code></div><div class="doc"><pre class="plaintext">Inputs: [arg :- s/Str]
Returns: s/Str

Format a ON clause to specify a join condition</pre></div><div class="src-link"><a href="http://github.com/cloojure/tupelo/blob/master/src/tupelo/sql.clj#L132">view source</a></div></div><div class="public anchor" id="var-out"><h3>out</h3><div class="usage"><code>(out &amp; args)</code></div><div class="doc"><pre class="plaintext">Inputs: [&amp; args :- [s/Any]]
Returns: s/Str

Format output part (e.g. &apos;*&apos;, et al) for &apos;select * from ...&apos; &amp; friends</pre></div><div class="src-link"><a href="http://github.com/cloojure/tupelo/blob/master/src/tupelo/sql.clj#L95">view source</a></div></div><div class="public anchor" id="var-select"><h3>select</h3><div class="usage"><code>(select &amp; args)</code></div><div class="doc"><pre class="plaintext">Inputs: [&amp; args :- [s/Any]]
Returns: s/Str

Format SQL select statement; eg: 
   (select :user-name :phone :id :from :user-info) 
   (select :*                    :from :log-data) 
   (select &quot;count(*)&quot;          :from :big-table)
 </pre></div><div class="src-link"><a href="http://github.com/cloojure/tupelo/blob/master/src/tupelo/sql.clj#L106">view source</a></div></div><div class="public anchor" id="var-using"><h3>using</h3><div class="usage"><code>(using &amp; args)</code></div><div class="doc"><pre class="plaintext">Inputs: [&amp; args]
Returns: s/Str

Format a USING clause to specify a join condition</pre></div><div class="src-link"><a href="http://github.com/cloojure/tupelo/blob/master/src/tupelo/sql.clj#L125">view source</a></div></div><div class="public anchor" id="var-version"><h3>version</h3><div class="usage"><code>(version)</code></div><div class="doc"><pre class="plaintext">Query the PostgreSQL version number
</pre></div><div class="src-link"><a href="http://github.com/cloojure/tupelo/blob/master/src/tupelo/sql.clj#L22">view source</a></div></div><div class="public anchor" id="var-where"><h3>where</h3><div class="usage"><code>(where arg)</code></div><div class="doc"><pre class="plaintext">Inputs: [arg :- s/Str]
Returns: s/Str

Format where clause</pre></div><div class="src-link"><a href="http://github.com/cloojure/tupelo/blob/master/src/tupelo/sql.clj#L101">view source</a></div></div></div></body></html>